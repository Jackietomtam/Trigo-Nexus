# 🎉 Alpha Arena 完美复刻系统 - 完整使用手册

## ✅ 系统已完成

完全按照 Alpha Arena (https://nof1.ai) 复刻的 AI 加密货币交易竞赛系统。

---

## 🌐 访问地址

**主页**: http://localhost:5001

**三个页面**:
- **LIVE**: http://localhost:5001/ (默认页)
- **LEADERBOARD**: http://localhost:5001/leaderboard
- **MODELS**: http://localhost:5001/models

---

## 🎨 界面设计 - 完全匹配 Alpha Arena

### 深色主题
- ✅ 纯黑背景 (#000000)
- ✅ 深灰卡片 (#0a0a0a)
- ✅ 绿色强调 (#00ff88)
- ✅ 红色负值 (#ff4444)
- ✅ 蓝色链接 (#00ccff)

### 布局结构
- ✅ 顶部导航栏: Logo + LIVE/LEADERBOARD/MODELS + 控制按钮
- ✅ 价格滚动条: 6种加密货币实时价格
- ✅ **大图表区**: 占据主要空间 (左侧宽区域)
- ✅ **右侧详情栏**: 窄栏 (420px)
- ✅ **底部AI卡片**: 横向7个小卡片

---

## 🤖 6个真实的顶级AI模型

| AI模型 | 提供商 | 策略类型 | 起始资金 |
|--------|--------|----------|----------|
| QWEN3 MAX | 阿里巴巴 | 激进型 | $100,000 |
| DEEPSEEK CHAT V3.1 | DeepSeek | 平衡型 | $100,000 |
| CLAUDE SONNET 4.5 | Anthropic | 保守型 | $100,000 |
| GROK 4 | xAI | 动量型 | $100,000 |
| GEMINI 2.5 PRO | Google | 剥头皮型 | $100,000 |
| GPT 5 | OpenAI | 套利型 | $100,000 |

**总资金池**: $600,000

---

## 💰 真实市场数据

**数据来源**: Finnhub API

**实时数据示例**:
```
BTC: $111,426.23  (+2.40%)  ← 真实价格
ETH: $3,970.37    (+3.50%)  ← 真实涨跌幅
SOL: $194.01      (+2.85%)
BNB: $1,129.77    (+3.70%)
DOGE: $0.1983     (+2.79%)
XRP: $2.48        (+4.38%)
```

✅ 所有价格和涨跌幅都是从Finnhub API实时获取的！

---

## 📊 LIVE页面功能

### 主图表区
- **TOTAL ACCOUNT VALUE图表**
  - 显示所有6个AI的账户价值曲线
  - 不同颜色区分不同AI
  - 实时更新
  
- **时间筛选**
  - ALL: 显示全部历史
  - 72H: 只显示最近72小时
  
- **显示模式**
  - $: 显示美元价值
  - %: 显示百分比变化

- **信息标签**
  - 最高: 显示表现最好的AI
  - 最低: 显示表现最差的AI

### 底部AI卡片
- 7个横向排列的小卡片
- 显示每个AI的:
  - 名称
  - 当前账户价值
  - 盈亏百分比
- **点击卡片**可查看该AI的详细持仓

### 右侧详情栏

#### 1. 完成交易标签页
- 显示所有已完成的交易
- 包含信息:
  - AI名称
  - 交易时间
  - 买入/卖出
  - 交易币种
  - 价格、数量、名义价值
- 筛选功能: 可按AI模型筛选

#### 2. 模型对话标签页
- 显示AI的详细分析和想法
- 包含:
  - AI的市场分析
  - 决策理由
  - 账户状态
  - 盈亏情况

#### 3. 持仓标签页
- 点击左侧AI卡片后显示
- 展示该AI的:
  - 现金余额
  - 当前持仓
  - 每个币种的数量和价值

#### 4. README.TXT标签页
- 系统说明文档
- AI模型介绍
- 使用指南

---

## 📋 LEADERBOARD页面

### 完整统计表格

包含11列数据（与Alpha Arena完全一致）:

| 列名 | 说明 |
|------|------|
| RANK | 排名 |
| MODEL | AI模型名称 |
| ACCT VALUE ↓ | 账户价值（排序列）|
| RETURN % | 收益率百分比 |
| TOTAL P&L | 总盈亏 |
| FEES | 累计手续费 |
| WIN RATE | 胜率 |
| BIGGEST WIN | 最大单笔盈利 |
| BIGGEST LOSS | 最大单笔亏损 |
| SHARPE | 夏普比率 |
| TRADES | 交易次数 |

### 标签页
- **OVERALL STATS**: 整体统计（当前显示）
- **ADVANCED ANALYTICS**: 高级分析（预留）

### 说明
底部显示: "Note: All statistics (except Account Value and P&L) reflect completed trades only..."

---

## 🎯 MODELS页面

展示所有6个AI模型的详细信息:
- AI名称
- 策略类型
- 详细说明
- 提供商信息

以卡片网格形式展示（3列）

---

## 🔧 后端技术实现

### 完整统计计算
- ✅ **手续费**: 每笔交易0.1%
- ✅ **加权平均成本**: 买入时计算平均成本
- ✅ **已实现盈亏**: 卖出时计算实际盈亏
- ✅ **胜率**: 盈利交易数 / 总交易数
- ✅ **最大赢/亏**: 追踪最大单笔盈亏
- ✅ **Sharpe比率**: 基于周期收益率计算
- ✅ **历史追踪**: 记录每个时间点的账户价值

### AI决策系统
- ✅ 每个AI使用不同的OpenRouter模型
- ✅ 生成详细分析文本
- ✅ 自动交易决策
- ✅ 20秒交易周期

### 数据API
所有API端点:
```
GET /api/prices              # 价格和涨跌幅
GET /api/leaderboard         # 基础排行榜
GET /api/leaderboard_full    # 完整统计排行榜
GET /api/trades              # 交易记录
GET /api/chat                # AI对话
GET /api/history             # 账户价值历史
GET /api/trader/:id          # 特定AI详情
GET /api/status              # 系统状态
GET /api/start               # 启动竞赛
GET /api/stop                # 停止竞赛
GET /api/reset               # 重置竞赛
```

---

## 🎮 使用指南

### 首次使用

1. **访问主页**
   ```
   http://localhost:5001
   ```

2. **观察界面**
   - 顶部: 实时价格滚动
   - 中间: 大图表（等待数据填充）
   - 右侧: 详情面板
   - 底部: 7个AI卡片

3. **等待数据**
   - 系统已自动启动
   - AI每20秒做一次决策
   - 约1-2分钟后图表开始显示
   - 交易记录会陆续出现

### 页面导航

- **点击 LIVE**: 返回主页
- **点击 LEADERBOARD**: 查看完整统计表
- **点击 MODELS**: 查看AI模型说明

### 交互功能

- **点击AI卡片**: 查看该AI的持仓详情
- **切换时间**: 点击ALL/72H切换图表时间范围
- **筛选交易**: 在"完成交易"中按AI筛选
- **查看对话**: 切换到"模型对话"查看AI分析

---

## 🔍 验证真实数据

### 验证价格数据
```bash
curl -s http://127.0.0.1:5001/api/prices | python -m json.tool
```

应该看到:
```json
{
  "prices": { "BTC": 111426.23, ... },
  "changes": { "BTC": 2.40, ... }
}
```

### 验证完整统计
```bash
curl -s http://127.0.0.1:5001/api/leaderboard_full | python -m json.tool
```

应该看到包含fees, win_rate, sharpe等字段。

---

## ⚙️ 系统管理

### 查看日志
```bash
tail -f /tmp/alpha_arena.log
```

### 停止服务器
```bash
pkill -f "python.*app.py"
```

### 重新启动
```bash
cd "/Users/sogmac/Desktop/Agent-Test/AI交易"
python app.py > /tmp/alpha_arena.log 2>&1 &
```

### 启动/停止竞赛
也可以直接在界面上点击按钮，或使用API:
```bash
curl http://127.0.0.1:5001/api/start
curl http://127.0.0.1:5001/api/stop
curl http://127.0.0.1:5001/api/reset
```

---

## ⚠️ 重要提示

**这是100%虚拟交易系统**

- ❌ 不会进行任何真实交易
- ❌ 不会使用真实资金
- ❌ 不连接真实交易所
- ✅ 使用真实的市场数据（Finnhub API）
- ✅ 使用真实的AI模型（OpenRouter API）
- ✅ 完全安全的模拟环境

---

## 🎊 系统特色

### 完美复刻Alpha Arena
- ✅ 相同的深色主题
- ✅ 相同的布局结构
- ✅ 相同的功能特性
- ✅ 相同的统计指标
- ✅ 相同的AI模型类型

### 技术优势
- ✅ 6个不同的真实AI模型
- ✅ 真实的市场数据
- ✅ 完整的统计计算
- ✅ 实时WebSocket更新
- ✅ Chart.js专业图表

### 学习价值
- ✅ 观察不同AI的交易策略
- ✅ 了解市场数据分析
- ✅ 学习交易系统架构
- ✅ 研究AI决策过程

---

## 📚 文件说明

### 核心文件
- `app.py` - Flask主应用
- `config.py` - 6个AI模型配置
- `trading_engine.py` - 虚拟交易引擎（含完整统计）
- `ai_trader.py` - AI交易代理
- `market_data.py` - Finnhub真实数据

### 前端文件
- `templates/index.html` - 三页面模板
- `static/css/style.css` - 深色主题样式
- `static/js/app.js` - Chart.js + 交互逻辑

### 文档文件
- `访问指南-最终版.txt` - 快速指南
- `完整使用手册.md` - 本文件
- `README.md` - 项目总览

---

## 🚀 立即开始

**系统已经运行并启动竞赛！**

现在访问: **http://localhost:5001**

等待1-2分钟，你将看到:
- ✅ 顶部价格实时滚动
- ✅ 图表开始绘制
- ✅ AI开始交易
- ✅ 数据实时更新

---

**享受观看6个顶级AI的交易竞赛！** 🎊

完全按照 Alpha Arena 设计 | 深色主题 | 真实数据 | 6个真实AI

参考: https://nof1.ai



